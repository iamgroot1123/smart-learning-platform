<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Smart Learning Platform</title>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/styles.css') }}" />
  </head>
  <body>
    <div class="container">
      <h1>üìò Smart Learning Platform</h1>
      <p>Upload your study material and generate questions automatically!</p>

      <!-- Tab Navigation -->
      <nav class="tabs">
        <button class="tab-button active" data-tab="study">
          Study Material
        </button>
        <button class="tab-button" data-tab="quiz">Take Quiz</button>
      </nav>

      <!-- Study Material Tab -->
      <div id="study-tab" class="tab-content active">
        <form id="upload-form" enctype="multipart/form-data">
          <div class="form-group">
            <label for="files"
              >Upload PDF files (you can select multiple):</label
            >
            <input
              type="file"
              id="files"
              name="files"
              multiple
              accept=".pdf"
              required />
          </div>

          <div class="form-group">
            <label for="num_mcq">Number of MCQs:</label>
            <input
              type="number"
              id="num_mcq"
              name="num_mcq"
              min="1"
              max="20"
              value="5"
              required />
          </div>

          <div class="form-group">
            <label for="num_short">Number of Short Questions:</label>
            <input
              type="number"
              id="num_short"
              name="num_short"
              min="1"
              max="20"
              value="5"
              required />
          </div>

          <button type="submit" class="btn">
            üîç Extract & Generate Questions
          </button>
        </form>
      </div>

      <!-- Take Quiz Tab -->
      <div id="quiz-tab" class="tab-content">
        <h2>‚ùì Generated Questions</h2>
        <div id="chunks-container">
          <!-- Chunks will be dynamically inserted here -->
        </div>

        <!-- Sub-tabs for question types -->
        <nav class="sub-tabs">
          <button class="sub-tab-button active" data-subtab="mcq">MCQs</button>
          <button class="sub-tab-button" data-subtab="short">
            Short Answers
          </button>
        </nav>

        <!-- MCQ Sub-tab -->
        <div id="mcq-subtab" class="sub-tab-content active">
          <div id="mcq-container">
            <!-- MCQs will be dynamically inserted here -->
          </div>
        </div>

        <!-- Short Answers Sub-tab -->
        <div id="short-subtab" class="sub-tab-content">
          <div id="short-container">
            <!-- Short Answers will be dynamically inserted here -->
          </div>
        </div>
      </div>
    </div>
    <!-- Loading overlay (shown while generating questions) -->
    <div id="loading-overlay" class="loading-overlay" style="display: none">
      <div class="loading-card">
        <div class="spinner" aria-hidden="true"></div>
        <div id="loading-message">Preparing your questions‚Ä¶</div>
        <div class="progress-bar" id="upload-progress" style="display: none">
          <div class="progress-fill" id="upload-progress-fill"></div>
        </div>
      </div>
    </div>

    <!-- Toast container -->
    <div
      id="toast-container"
      class="toast-container"
      aria-live="polite"
      aria-atomic="true"></div>

    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
  </body>
</html>
